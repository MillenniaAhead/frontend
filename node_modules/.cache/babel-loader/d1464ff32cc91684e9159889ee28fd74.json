{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar _excluded = [\"id\", \"mode\", \"prefixCls\", \"backfill\", \"fieldNames\", \"inputValue\", \"searchValue\", \"onSearch\", \"autoClearSearchValue\", \"onSelect\", \"onDeselect\", \"dropdownMatchSelectWidth\", \"filterOption\", \"filterSort\", \"optionFilterProp\", \"optionLabelProp\", \"options\", \"children\", \"defaultActiveFirstOption\", \"menuItemSelectedIcon\", \"virtual\", \"listHeight\", \"listItemHeight\", \"value\", \"defaultValue\", \"labelInValue\", \"onChange\"];\n\n/**\r\n * To match accessibility requirement, we always provide an input in the component.\r\n * Other element will not set `tabIndex` to avoid `onBlur` sequence problem.\r\n * For focused select, we set `aria-live=\"polite\"` to update the accessibility content.\r\n *\r\n * ref:\r\n * - keyboard: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role#Keyboard_interactions\r\n *\r\n * New api:\r\n * - listHeight\r\n * - listItemHeight\r\n * - component\r\n *\r\n * Remove deprecated api:\r\n * - multiple\r\n * - tags\r\n * - combobox\r\n * - firstActiveValue\r\n * - dropdownMenuStyle\r\n * - openClassName (Not list in api)\r\n *\r\n * Update:\r\n * - `backfill` only support `combobox` mode\r\n * - `combobox` mode not support `labelInValue` since it's meaningless\r\n * - `getInputElement` only support `combobox` mode\r\n * - `onChange` return OptionData instead of ReactNode\r\n * - `filterOption` `onChange` `onSelect` accept OptionData instead of ReactNode\r\n * - `combobox` mode trigger `onChange` will get `undefined` if no `value` match in Option\r\n * - `combobox` mode not support `optionLabelProp`\r\n */\nimport * as React from 'react';\nimport warning from \"rc-util/es/warning\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport BaseSelect, { isMultiple } from './BaseSelect';\nimport OptionList from './OptionList';\nimport Option from './Option';\nimport OptGroup from './OptGroup';\nimport useOptions from './hooks/useOptions';\nimport SelectContext from './SelectContext';\nimport useId from './hooks/useId';\nimport useRefFunc from './hooks/useRefFunc';\nimport { fillFieldNames, flattenOptions, injectPropsWithOption } from './utils/valueUtil';\nimport warningProps from './utils/warningPropsUtil';\nimport { toArray } from './utils/commonUtil';\nimport useFilterOptions from './hooks/useFilterOptions';\nimport useCache from './hooks/useCache';\nvar OMIT_DOM_PROPS = ['inputValue'];\nfunction isRawValue(value) {\n  return !value || _typeof(value) !== 'object';\n}\nvar Select = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var id = props.id,\n    mode = props.mode,\n    _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? 'rc-select' : _props$prefixCls,\n    backfill = props.backfill,\n    fieldNames = props.fieldNames,\n    inputValue = props.inputValue,\n    searchValue = props.searchValue,\n    onSearch = props.onSearch,\n    _props$autoClearSearc = props.autoClearSearchValue,\n    autoClearSearchValue = _props$autoClearSearc === void 0 ? true : _props$autoClearSearc,\n    onSelect = props.onSelect,\n    onDeselect = props.onDeselect,\n    dropdownMatchSelectWidth = props.dropdownMatchSelectWidth,\n    filterOption = props.filterOption,\n    filterSort = props.filterSort,\n    optionFilterProp = props.optionFilterProp,\n    optionLabelProp = props.optionLabelProp,\n    options = props.options,\n    children = props.children,\n    defaultActiveFirstOption = props.defaultActiveFirstOption,\n    menuItemSelectedIcon = props.menuItemSelectedIcon,\n    virtual = props.virtual,\n    _props$listHeight = props.listHeight,\n    listHeight = _props$listHeight === void 0 ? 200 : _props$listHeight,\n    _props$listItemHeight = props.listItemHeight,\n    listItemHeight = _props$listItemHeight === void 0 ? 20 : _props$listItemHeight,\n    value = props.value,\n    defaultValue = props.defaultValue,\n    labelInValue = props.labelInValue,\n    onChange = props.onChange,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var mergedId = useId(id);\n  var multiple = isMultiple(mode);\n  var childrenAsData = !!(!options && children);\n  var mergedFilterOption = React.useMemo(function () {\n    if (filterOption === undefined && mode === 'combobox') {\n      return false;\n    }\n    return filterOption;\n  }, [filterOption, mode]); // ========================= FieldNames =========================\n\n  var mergedFieldNames = React.useMemo(function () {\n    return fillFieldNames(fieldNames, childrenAsData);\n  }, /* eslint-disable react-hooks/exhaustive-deps */\n  [\n  // We stringify fieldNames to avoid unnecessary re-renders.\n  JSON.stringify(fieldNames), childrenAsData]); // =========================== Search ===========================\n\n  var _useMergedState = useMergedState('', {\n      value: searchValue !== undefined ? searchValue : inputValue,\n      postState: function postState(search) {\n        return search || '';\n      }\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    mergedSearchValue = _useMergedState2[0],\n    setSearchValue = _useMergedState2[1]; // =========================== Option ===========================\n\n  var parsedOptions = useOptions(options, children, mergedFieldNames);\n  var valueOptions = parsedOptions.valueOptions,\n    labelOptions = parsedOptions.labelOptions,\n    mergedOptions = parsedOptions.options; // ========================= Wrap Value =========================\n\n  var convert2LabelValues = React.useCallback(function (draftValues) {\n    // Convert to array\n    var valueList = toArray(draftValues); // Convert to labelInValue type\n\n    return valueList.map(function (val) {\n      var rawValue;\n      var rawLabel;\n      var rawKey;\n      var rawDisabled; // Fill label & value\n\n      if (isRawValue(val)) {\n        rawValue = val;\n      } else {\n        var _val$value;\n        rawKey = val.key;\n        rawLabel = val.label;\n        rawValue = (_val$value = val.value) !== null && _val$value !== void 0 ? _val$value : rawKey;\n      }\n      var option = valueOptions.get(rawValue);\n      if (option) {\n        var _option$key;\n\n        // Fill missing props\n        if (rawLabel === undefined) rawLabel = option === null || option === void 0 ? void 0 : option[optionLabelProp || mergedFieldNames.label];\n        if (rawKey === undefined) rawKey = (_option$key = option === null || option === void 0 ? void 0 : option.key) !== null && _option$key !== void 0 ? _option$key : rawValue;\n        rawDisabled = option === null || option === void 0 ? void 0 : option.disabled; // Warning if label not same as provided\n\n        if (process.env.NODE_ENV !== 'production' && !isRawValue(val)) {\n          var optionLabel = option === null || option === void 0 ? void 0 : option[mergedFieldNames.label];\n          if (optionLabel !== undefined && optionLabel !== rawLabel) {\n            warning(false, '`label` of `value` is not same as `label` in Select options.');\n          }\n        }\n      }\n      return {\n        label: rawLabel,\n        value: rawValue,\n        key: rawKey,\n        disabled: rawDisabled\n      };\n    });\n  }, [mergedFieldNames, optionLabelProp, valueOptions]); // =========================== Values ===========================\n\n  var _useMergedState3 = useMergedState(defaultValue, {\n      value: value\n    }),\n    _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n    internalValue = _useMergedState4[0],\n    setInternalValue = _useMergedState4[1]; // Merged value with LabelValueType\n\n  var rawLabeledValues = React.useMemo(function () {\n    var _values$;\n    var values = convert2LabelValues(internalValue); // combobox no need save value when it's empty\n\n    if (mode === 'combobox' && !((_values$ = values[0]) === null || _values$ === void 0 ? void 0 : _values$.value)) {\n      return [];\n    }\n    return values;\n  }, [internalValue, convert2LabelValues, mode]); // Fill label with cache to avoid option remove\n\n  var _useCache = useCache(rawLabeledValues, valueOptions),\n    _useCache2 = _slicedToArray(_useCache, 2),\n    mergedValues = _useCache2[0],\n    getMixedOption = _useCache2[1];\n  var displayValues = React.useMemo(function () {\n    // `null` need show as placeholder instead\n    // https://github.com/ant-design/ant-design/issues/25057\n    if (!mode && mergedValues.length === 1) {\n      var firstValue = mergedValues[0];\n      if (firstValue.value === null && (firstValue.label === null || firstValue.label === undefined)) {\n        return [];\n      }\n    }\n    return mergedValues.map(function (item) {\n      var _item$label;\n      return _objectSpread(_objectSpread({}, item), {}, {\n        label: (_item$label = item.label) !== null && _item$label !== void 0 ? _item$label : item.value\n      });\n    });\n  }, [mode, mergedValues]);\n  /** Convert `displayValues` to raw value type set */\n\n  var rawValues = React.useMemo(function () {\n    return new Set(mergedValues.map(function (val) {\n      return val.value;\n    }));\n  }, [mergedValues]);\n  React.useEffect(function () {\n    if (mode === 'combobox') {\n      var _mergedValues$;\n      var strValue = (_mergedValues$ = mergedValues[0]) === null || _mergedValues$ === void 0 ? void 0 : _mergedValues$.value;\n      if (strValue !== undefined && strValue !== null) {\n        setSearchValue(String(strValue));\n      }\n    }\n  }, [mergedValues]); // ======================= Display Option =======================\n  // Create a placeholder item if not exist in `options`\n\n  var createTagOption = useRefFunc(function (val, label) {\n    var _ref;\n    var mergedLabel = label !== null && label !== void 0 ? label : val;\n    return _ref = {}, _defineProperty(_ref, mergedFieldNames.value, val), _defineProperty(_ref, mergedFieldNames.label, mergedLabel), _ref;\n  }); // Fill tag as option if mode is `tags`\n\n  var filledTagOptions = React.useMemo(function () {\n    if (mode !== 'tags') {\n      return mergedOptions;\n    } // >>> Tag mode\n\n    var cloneOptions = _toConsumableArray(mergedOptions); // Check if value exist in options (include new patch item)\n\n    var existOptions = function existOptions(val) {\n      return valueOptions.has(val);\n    }; // Fill current value as option\n\n    _toConsumableArray(mergedValues).sort(function (a, b) {\n      return a.value < b.value ? -1 : 1;\n    }).forEach(function (item) {\n      var val = item.value;\n      if (!existOptions(val)) {\n        cloneOptions.push(createTagOption(val, item.label));\n      }\n    });\n    return cloneOptions;\n  }, [createTagOption, mergedOptions, valueOptions, mergedValues, mode]);\n  var filteredOptions = useFilterOptions(filledTagOptions, mergedFieldNames, mergedSearchValue, mergedFilterOption, optionFilterProp); // Fill options with search value if needed\n\n  var filledSearchOptions = React.useMemo(function () {\n    if (mode !== 'tags' || !mergedSearchValue || filteredOptions.some(function (item) {\n      return item[optionFilterProp || 'value'] === mergedSearchValue;\n    })) {\n      return filteredOptions;\n    } // Fill search value as option\n\n    return [createTagOption(mergedSearchValue)].concat(_toConsumableArray(filteredOptions));\n  }, [createTagOption, optionFilterProp, mode, filteredOptions, mergedSearchValue]);\n  var orderedFilteredOptions = React.useMemo(function () {\n    if (!filterSort) {\n      return filledSearchOptions;\n    }\n    return _toConsumableArray(filledSearchOptions).sort(function (a, b) {\n      return filterSort(a, b);\n    });\n  }, [filledSearchOptions, filterSort]);\n  var displayOptions = React.useMemo(function () {\n    return flattenOptions(orderedFilteredOptions, {\n      fieldNames: mergedFieldNames,\n      childrenAsData: childrenAsData\n    });\n  }, [orderedFilteredOptions, mergedFieldNames, childrenAsData]); // =========================== Change ===========================\n\n  var triggerChange = function triggerChange(values) {\n    var labeledValues = convert2LabelValues(values);\n    setInternalValue(labeledValues);\n    if (onChange && (\n    // Trigger event only when value changed\n    labeledValues.length !== mergedValues.length || labeledValues.some(function (newVal, index) {\n      var _mergedValues$index;\n      return ((_mergedValues$index = mergedValues[index]) === null || _mergedValues$index === void 0 ? void 0 : _mergedValues$index.value) !== (newVal === null || newVal === void 0 ? void 0 : newVal.value);\n    }))) {\n      var returnValues = labelInValue ? labeledValues : labeledValues.map(function (v) {\n        return v.value;\n      });\n      var returnOptions = labeledValues.map(function (v) {\n        return injectPropsWithOption(getMixedOption(v.value));\n      });\n      onChange(\n      // Value\n      multiple ? returnValues : returnValues[0],\n      // Option\n      multiple ? returnOptions : returnOptions[0]);\n    }\n  }; // ======================= Accessibility ========================\n\n  var _React$useState = React.useState(null),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    activeValue = _React$useState2[0],\n    setActiveValue = _React$useState2[1];\n  var _React$useState3 = React.useState(0),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    accessibilityIndex = _React$useState4[0],\n    setAccessibilityIndex = _React$useState4[1];\n  var mergedDefaultActiveFirstOption = defaultActiveFirstOption !== undefined ? defaultActiveFirstOption : mode !== 'combobox';\n  var onActiveValue = React.useCallback(function (active, index) {\n    var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref2$source = _ref2.source,\n      source = _ref2$source === void 0 ? 'keyboard' : _ref2$source;\n    setAccessibilityIndex(index);\n    if (backfill && mode === 'combobox' && active !== null && source === 'keyboard') {\n      setActiveValue(String(active));\n    }\n  }, [backfill, mode]); // ========================= OptionList =========================\n\n  var triggerSelect = function triggerSelect(val, selected) {\n    var getSelectEnt = function getSelectEnt() {\n      var _option$key2;\n      var option = getMixedOption(val);\n      return [labelInValue ? {\n        label: option === null || option === void 0 ? void 0 : option[mergedFieldNames.label],\n        value: val,\n        key: (_option$key2 = option.key) !== null && _option$key2 !== void 0 ? _option$key2 : val\n      } : val, injectPropsWithOption(option)];\n    };\n    if (selected && onSelect) {\n      var _getSelectEnt = getSelectEnt(),\n        _getSelectEnt2 = _slicedToArray(_getSelectEnt, 2),\n        wrappedValue = _getSelectEnt2[0],\n        option = _getSelectEnt2[1];\n      onSelect(wrappedValue, option);\n    } else if (!selected && onDeselect) {\n      var _getSelectEnt3 = getSelectEnt(),\n        _getSelectEnt4 = _slicedToArray(_getSelectEnt3, 2),\n        _wrappedValue = _getSelectEnt4[0],\n        _option = _getSelectEnt4[1];\n      onDeselect(_wrappedValue, _option);\n    }\n  }; // Used for OptionList selection\n\n  var onInternalSelect = useRefFunc(function (val, info) {\n    var cloneValues; // Single mode always trigger select only with option list\n\n    var mergedSelect = multiple ? info.selected : true;\n    if (mergedSelect) {\n      cloneValues = multiple ? [].concat(_toConsumableArray(mergedValues), [val]) : [val];\n    } else {\n      cloneValues = mergedValues.filter(function (v) {\n        return v.value !== val;\n      });\n    }\n    triggerChange(cloneValues);\n    triggerSelect(val, mergedSelect); // Clean search value if single or configured\n\n    if (mode === 'combobox') {\n      // setSearchValue(String(val));\n      setActiveValue('');\n    } else if (!isMultiple || autoClearSearchValue) {\n      setSearchValue('');\n      setActiveValue('');\n    }\n  }); // ======================= Display Change =======================\n  // BaseSelect display values change\n\n  var onDisplayValuesChange = function onDisplayValuesChange(nextValues, info) {\n    triggerChange(nextValues);\n    if (info.type === 'remove' || info.type === 'clear') {\n      info.values.forEach(function (item) {\n        triggerSelect(item.value, false);\n      });\n    }\n  }; // =========================== Search ===========================\n\n  var onInternalSearch = function onInternalSearch(searchText, info) {\n    setSearchValue(searchText);\n    setActiveValue(null); // [Submit] Tag mode should flush input\n\n    if (info.source === 'submit') {\n      var formatted = (searchText || '').trim(); // prevent empty tags from appearing when you click the Enter button\n\n      if (formatted) {\n        var newRawValues = Array.from(new Set([].concat(_toConsumableArray(rawValues), [formatted])));\n        triggerChange(newRawValues);\n        triggerSelect(formatted, true);\n        setSearchValue('');\n      }\n      return;\n    }\n    if (info.source !== 'blur') {\n      if (mode === 'combobox') {\n        triggerChange(searchText);\n      }\n      onSearch === null || onSearch === void 0 ? void 0 : onSearch(searchText);\n    }\n  };\n  var onInternalSearchSplit = function onInternalSearchSplit(words) {\n    var patchValues = words;\n    if (mode !== 'tags') {\n      patchValues = words.map(function (word) {\n        var opt = labelOptions.get(word);\n        return opt === null || opt === void 0 ? void 0 : opt.value;\n      }).filter(function (val) {\n        return val !== undefined;\n      });\n    }\n    var newRawValues = Array.from(new Set([].concat(_toConsumableArray(rawValues), _toConsumableArray(patchValues))));\n    triggerChange(newRawValues);\n    newRawValues.forEach(function (newRawValue) {\n      triggerSelect(newRawValue, true);\n    });\n  }; // ========================== Context ===========================\n\n  var selectContext = React.useMemo(function () {\n    var realVirtual = virtual !== false && dropdownMatchSelectWidth !== false;\n    return _objectSpread(_objectSpread({}, parsedOptions), {}, {\n      flattenOptions: displayOptions,\n      onActiveValue: onActiveValue,\n      defaultActiveFirstOption: mergedDefaultActiveFirstOption,\n      onSelect: onInternalSelect,\n      menuItemSelectedIcon: menuItemSelectedIcon,\n      rawValues: rawValues,\n      fieldNames: mergedFieldNames,\n      virtual: realVirtual,\n      listHeight: listHeight,\n      listItemHeight: listItemHeight,\n      childrenAsData: childrenAsData\n    });\n  }, [parsedOptions, displayOptions, onActiveValue, mergedDefaultActiveFirstOption, onInternalSelect, menuItemSelectedIcon, rawValues, mergedFieldNames, virtual, dropdownMatchSelectWidth, listHeight, listItemHeight, childrenAsData]); // ========================== Warning ===========================\n\n  if (process.env.NODE_ENV !== 'production') {\n    warningProps(props);\n  } // ==============================================================\n  // ==                          Render                          ==\n  // ==============================================================\n\n  return /*#__PURE__*/React.createElement(SelectContext.Provider, {\n    value: selectContext\n  }, /*#__PURE__*/React.createElement(BaseSelect, _extends({}, restProps, {\n    // >>> MISC\n    id: mergedId,\n    prefixCls: prefixCls,\n    ref: ref,\n    omitDomProps: OMIT_DOM_PROPS,\n    mode: mode // >>> Values\n    ,\n\n    displayValues: displayValues,\n    onDisplayValuesChange: onDisplayValuesChange // >>> Search\n    ,\n\n    searchValue: mergedSearchValue,\n    onSearch: onInternalSearch,\n    onSearchSplit: onInternalSearchSplit,\n    dropdownMatchSelectWidth: dropdownMatchSelectWidth // >>> OptionList\n    ,\n\n    OptionList: OptionList,\n    emptyOptions: !displayOptions.length // >>> Accessibility\n    ,\n\n    activeValue: activeValue,\n    activeDescendantId: \"\".concat(mergedId, \"_list_\").concat(accessibilityIndex)\n  })));\n});\nif (process.env.NODE_ENV !== 'production') {\n  Select.displayName = 'Select';\n}\nvar TypedSelect = Select;\nTypedSelect.Option = Option;\nTypedSelect.OptGroup = OptGroup;\nexport default TypedSelect;","map":{"version":3,"names":["_extends","_toConsumableArray","_defineProperty","_objectSpread","_slicedToArray","_objectWithoutProperties","_typeof","_excluded","React","warning","useMergedState","BaseSelect","isMultiple","OptionList","Option","OptGroup","useOptions","SelectContext","useId","useRefFunc","fillFieldNames","flattenOptions","injectPropsWithOption","warningProps","toArray","useFilterOptions","useCache","OMIT_DOM_PROPS","isRawValue","value","Select","forwardRef","props","ref","id","mode","_props$prefixCls","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","_props$autoClearSearc","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","_props$listHeight","listHeight","_props$listItemHeight","listItemHeight","defaultValue","labelInValue","onChange","restProps","mergedId","multiple","childrenAsData","mergedFilterOption","useMemo","undefined","mergedFieldNames","JSON","stringify","_useMergedState","postState","search","_useMergedState2","mergedSearchValue","setSearchValue","parsedOptions","valueOptions","labelOptions","mergedOptions","convert2LabelValues","useCallback","draftValues","valueList","map","val","rawValue","rawLabel","rawKey","rawDisabled","_val$value","key","label","option","get","_option$key","disabled","process","env","NODE_ENV","optionLabel","_useMergedState3","_useMergedState4","internalValue","setInternalValue","rawLabeledValues","_values$","values","_useCache","_useCache2","mergedValues","getMixedOption","displayValues","length","firstValue","item","_item$label","rawValues","Set","useEffect","_mergedValues$","strValue","String","createTagOption","_ref","mergedLabel","filledTagOptions","cloneOptions","existOptions","has","sort","a","b","forEach","push","filteredOptions","filledSearchOptions","some","concat","orderedFilteredOptions","displayOptions","triggerChange","labeledValues","newVal","index","_mergedValues$index","returnValues","v","returnOptions","_React$useState","useState","_React$useState2","activeValue","setActiveValue","_React$useState3","_React$useState4","accessibilityIndex","setAccessibilityIndex","mergedDefaultActiveFirstOption","onActiveValue","active","_ref2","arguments","_ref2$source","source","triggerSelect","selected","getSelectEnt","_option$key2","_getSelectEnt","_getSelectEnt2","wrappedValue","_getSelectEnt3","_getSelectEnt4","_wrappedValue","_option","onInternalSelect","info","cloneValues","mergedSelect","filter","onDisplayValuesChange","nextValues","type","onInternalSearch","searchText","formatted","trim","newRawValues","Array","from","onInternalSearchSplit","words","patchValues","word","opt","newRawValue","selectContext","realVirtual","createElement","Provider","omitDomProps","onSearchSplit","emptyOptions","activeDescendantId","displayName","TypedSelect"],"sources":["F:/outletcontrol/frontend/node_modules/rc-select/es/Select.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\r\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\r\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\r\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\r\nvar _excluded = [\"id\", \"mode\", \"prefixCls\", \"backfill\", \"fieldNames\", \"inputValue\", \"searchValue\", \"onSearch\", \"autoClearSearchValue\", \"onSelect\", \"onDeselect\", \"dropdownMatchSelectWidth\", \"filterOption\", \"filterSort\", \"optionFilterProp\", \"optionLabelProp\", \"options\", \"children\", \"defaultActiveFirstOption\", \"menuItemSelectedIcon\", \"virtual\", \"listHeight\", \"listItemHeight\", \"value\", \"defaultValue\", \"labelInValue\", \"onChange\"];\r\n\r\n/**\r\n * To match accessibility requirement, we always provide an input in the component.\r\n * Other element will not set `tabIndex` to avoid `onBlur` sequence problem.\r\n * For focused select, we set `aria-live=\"polite\"` to update the accessibility content.\r\n *\r\n * ref:\r\n * - keyboard: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role#Keyboard_interactions\r\n *\r\n * New api:\r\n * - listHeight\r\n * - listItemHeight\r\n * - component\r\n *\r\n * Remove deprecated api:\r\n * - multiple\r\n * - tags\r\n * - combobox\r\n * - firstActiveValue\r\n * - dropdownMenuStyle\r\n * - openClassName (Not list in api)\r\n *\r\n * Update:\r\n * - `backfill` only support `combobox` mode\r\n * - `combobox` mode not support `labelInValue` since it's meaningless\r\n * - `getInputElement` only support `combobox` mode\r\n * - `onChange` return OptionData instead of ReactNode\r\n * - `filterOption` `onChange` `onSelect` accept OptionData instead of ReactNode\r\n * - `combobox` mode trigger `onChange` will get `undefined` if no `value` match in Option\r\n * - `combobox` mode not support `optionLabelProp`\r\n */\r\nimport * as React from 'react';\r\nimport warning from \"rc-util/es/warning\";\r\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\r\nimport BaseSelect, { isMultiple } from './BaseSelect';\r\nimport OptionList from './OptionList';\r\nimport Option from './Option';\r\nimport OptGroup from './OptGroup';\r\nimport useOptions from './hooks/useOptions';\r\nimport SelectContext from './SelectContext';\r\nimport useId from './hooks/useId';\r\nimport useRefFunc from './hooks/useRefFunc';\r\nimport { fillFieldNames, flattenOptions, injectPropsWithOption } from './utils/valueUtil';\r\nimport warningProps from './utils/warningPropsUtil';\r\nimport { toArray } from './utils/commonUtil';\r\nimport useFilterOptions from './hooks/useFilterOptions';\r\nimport useCache from './hooks/useCache';\r\nvar OMIT_DOM_PROPS = ['inputValue'];\r\n\r\nfunction isRawValue(value) {\r\n  return !value || _typeof(value) !== 'object';\r\n}\r\n\r\nvar Select = /*#__PURE__*/React.forwardRef(function (props, ref) {\r\n  var id = props.id,\r\n      mode = props.mode,\r\n      _props$prefixCls = props.prefixCls,\r\n      prefixCls = _props$prefixCls === void 0 ? 'rc-select' : _props$prefixCls,\r\n      backfill = props.backfill,\r\n      fieldNames = props.fieldNames,\r\n      inputValue = props.inputValue,\r\n      searchValue = props.searchValue,\r\n      onSearch = props.onSearch,\r\n      _props$autoClearSearc = props.autoClearSearchValue,\r\n      autoClearSearchValue = _props$autoClearSearc === void 0 ? true : _props$autoClearSearc,\r\n      onSelect = props.onSelect,\r\n      onDeselect = props.onDeselect,\r\n      dropdownMatchSelectWidth = props.dropdownMatchSelectWidth,\r\n      filterOption = props.filterOption,\r\n      filterSort = props.filterSort,\r\n      optionFilterProp = props.optionFilterProp,\r\n      optionLabelProp = props.optionLabelProp,\r\n      options = props.options,\r\n      children = props.children,\r\n      defaultActiveFirstOption = props.defaultActiveFirstOption,\r\n      menuItemSelectedIcon = props.menuItemSelectedIcon,\r\n      virtual = props.virtual,\r\n      _props$listHeight = props.listHeight,\r\n      listHeight = _props$listHeight === void 0 ? 200 : _props$listHeight,\r\n      _props$listItemHeight = props.listItemHeight,\r\n      listItemHeight = _props$listItemHeight === void 0 ? 20 : _props$listItemHeight,\r\n      value = props.value,\r\n      defaultValue = props.defaultValue,\r\n      labelInValue = props.labelInValue,\r\n      onChange = props.onChange,\r\n      restProps = _objectWithoutProperties(props, _excluded);\r\n\r\n  var mergedId = useId(id);\r\n  var multiple = isMultiple(mode);\r\n  var childrenAsData = !!(!options && children);\r\n  var mergedFilterOption = React.useMemo(function () {\r\n    if (filterOption === undefined && mode === 'combobox') {\r\n      return false;\r\n    }\r\n\r\n    return filterOption;\r\n  }, [filterOption, mode]); // ========================= FieldNames =========================\r\n\r\n  var mergedFieldNames = React.useMemo(function () {\r\n    return fillFieldNames(fieldNames, childrenAsData);\r\n  },\r\n  /* eslint-disable react-hooks/exhaustive-deps */\r\n  [// We stringify fieldNames to avoid unnecessary re-renders.\r\n  JSON.stringify(fieldNames), childrenAsData]); // =========================== Search ===========================\r\n\r\n  var _useMergedState = useMergedState('', {\r\n    value: searchValue !== undefined ? searchValue : inputValue,\r\n    postState: function postState(search) {\r\n      return search || '';\r\n    }\r\n  }),\r\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\r\n      mergedSearchValue = _useMergedState2[0],\r\n      setSearchValue = _useMergedState2[1]; // =========================== Option ===========================\r\n\r\n\r\n  var parsedOptions = useOptions(options, children, mergedFieldNames);\r\n  var valueOptions = parsedOptions.valueOptions,\r\n      labelOptions = parsedOptions.labelOptions,\r\n      mergedOptions = parsedOptions.options; // ========================= Wrap Value =========================\r\n\r\n  var convert2LabelValues = React.useCallback(function (draftValues) {\r\n    // Convert to array\r\n    var valueList = toArray(draftValues); // Convert to labelInValue type\r\n\r\n    return valueList.map(function (val) {\r\n      var rawValue;\r\n      var rawLabel;\r\n      var rawKey;\r\n      var rawDisabled; // Fill label & value\r\n\r\n      if (isRawValue(val)) {\r\n        rawValue = val;\r\n      } else {\r\n        var _val$value;\r\n\r\n        rawKey = val.key;\r\n        rawLabel = val.label;\r\n        rawValue = (_val$value = val.value) !== null && _val$value !== void 0 ? _val$value : rawKey;\r\n      }\r\n\r\n      var option = valueOptions.get(rawValue);\r\n\r\n      if (option) {\r\n        var _option$key;\r\n\r\n        // Fill missing props\r\n        if (rawLabel === undefined) rawLabel = option === null || option === void 0 ? void 0 : option[optionLabelProp || mergedFieldNames.label];\r\n        if (rawKey === undefined) rawKey = (_option$key = option === null || option === void 0 ? void 0 : option.key) !== null && _option$key !== void 0 ? _option$key : rawValue;\r\n        rawDisabled = option === null || option === void 0 ? void 0 : option.disabled; // Warning if label not same as provided\r\n\r\n        if (process.env.NODE_ENV !== 'production' && !isRawValue(val)) {\r\n          var optionLabel = option === null || option === void 0 ? void 0 : option[mergedFieldNames.label];\r\n\r\n          if (optionLabel !== undefined && optionLabel !== rawLabel) {\r\n            warning(false, '`label` of `value` is not same as `label` in Select options.');\r\n          }\r\n        }\r\n      }\r\n\r\n      return {\r\n        label: rawLabel,\r\n        value: rawValue,\r\n        key: rawKey,\r\n        disabled: rawDisabled\r\n      };\r\n    });\r\n  }, [mergedFieldNames, optionLabelProp, valueOptions]); // =========================== Values ===========================\r\n\r\n  var _useMergedState3 = useMergedState(defaultValue, {\r\n    value: value\r\n  }),\r\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\r\n      internalValue = _useMergedState4[0],\r\n      setInternalValue = _useMergedState4[1]; // Merged value with LabelValueType\r\n\r\n\r\n  var rawLabeledValues = React.useMemo(function () {\r\n    var _values$;\r\n\r\n    var values = convert2LabelValues(internalValue); // combobox no need save value when it's empty\r\n\r\n    if (mode === 'combobox' && !((_values$ = values[0]) === null || _values$ === void 0 ? void 0 : _values$.value)) {\r\n      return [];\r\n    }\r\n\r\n    return values;\r\n  }, [internalValue, convert2LabelValues, mode]); // Fill label with cache to avoid option remove\r\n\r\n  var _useCache = useCache(rawLabeledValues, valueOptions),\r\n      _useCache2 = _slicedToArray(_useCache, 2),\r\n      mergedValues = _useCache2[0],\r\n      getMixedOption = _useCache2[1];\r\n\r\n  var displayValues = React.useMemo(function () {\r\n    // `null` need show as placeholder instead\r\n    // https://github.com/ant-design/ant-design/issues/25057\r\n    if (!mode && mergedValues.length === 1) {\r\n      var firstValue = mergedValues[0];\r\n\r\n      if (firstValue.value === null && (firstValue.label === null || firstValue.label === undefined)) {\r\n        return [];\r\n      }\r\n    }\r\n\r\n    return mergedValues.map(function (item) {\r\n      var _item$label;\r\n\r\n      return _objectSpread(_objectSpread({}, item), {}, {\r\n        label: (_item$label = item.label) !== null && _item$label !== void 0 ? _item$label : item.value\r\n      });\r\n    });\r\n  }, [mode, mergedValues]);\r\n  /** Convert `displayValues` to raw value type set */\r\n\r\n  var rawValues = React.useMemo(function () {\r\n    return new Set(mergedValues.map(function (val) {\r\n      return val.value;\r\n    }));\r\n  }, [mergedValues]);\r\n  React.useEffect(function () {\r\n    if (mode === 'combobox') {\r\n      var _mergedValues$;\r\n\r\n      var strValue = (_mergedValues$ = mergedValues[0]) === null || _mergedValues$ === void 0 ? void 0 : _mergedValues$.value;\r\n\r\n      if (strValue !== undefined && strValue !== null) {\r\n        setSearchValue(String(strValue));\r\n      }\r\n    }\r\n  }, [mergedValues]); // ======================= Display Option =======================\r\n  // Create a placeholder item if not exist in `options`\r\n\r\n  var createTagOption = useRefFunc(function (val, label) {\r\n    var _ref;\r\n\r\n    var mergedLabel = label !== null && label !== void 0 ? label : val;\r\n    return _ref = {}, _defineProperty(_ref, mergedFieldNames.value, val), _defineProperty(_ref, mergedFieldNames.label, mergedLabel), _ref;\r\n  }); // Fill tag as option if mode is `tags`\r\n\r\n  var filledTagOptions = React.useMemo(function () {\r\n    if (mode !== 'tags') {\r\n      return mergedOptions;\r\n    } // >>> Tag mode\r\n\r\n\r\n    var cloneOptions = _toConsumableArray(mergedOptions); // Check if value exist in options (include new patch item)\r\n\r\n\r\n    var existOptions = function existOptions(val) {\r\n      return valueOptions.has(val);\r\n    }; // Fill current value as option\r\n\r\n\r\n    _toConsumableArray(mergedValues).sort(function (a, b) {\r\n      return a.value < b.value ? -1 : 1;\r\n    }).forEach(function (item) {\r\n      var val = item.value;\r\n\r\n      if (!existOptions(val)) {\r\n        cloneOptions.push(createTagOption(val, item.label));\r\n      }\r\n    });\r\n\r\n    return cloneOptions;\r\n  }, [createTagOption, mergedOptions, valueOptions, mergedValues, mode]);\r\n  var filteredOptions = useFilterOptions(filledTagOptions, mergedFieldNames, mergedSearchValue, mergedFilterOption, optionFilterProp); // Fill options with search value if needed\r\n\r\n  var filledSearchOptions = React.useMemo(function () {\r\n    if (mode !== 'tags' || !mergedSearchValue || filteredOptions.some(function (item) {\r\n      return item[optionFilterProp || 'value'] === mergedSearchValue;\r\n    })) {\r\n      return filteredOptions;\r\n    } // Fill search value as option\r\n\r\n\r\n    return [createTagOption(mergedSearchValue)].concat(_toConsumableArray(filteredOptions));\r\n  }, [createTagOption, optionFilterProp, mode, filteredOptions, mergedSearchValue]);\r\n  var orderedFilteredOptions = React.useMemo(function () {\r\n    if (!filterSort) {\r\n      return filledSearchOptions;\r\n    }\r\n\r\n    return _toConsumableArray(filledSearchOptions).sort(function (a, b) {\r\n      return filterSort(a, b);\r\n    });\r\n  }, [filledSearchOptions, filterSort]);\r\n  var displayOptions = React.useMemo(function () {\r\n    return flattenOptions(orderedFilteredOptions, {\r\n      fieldNames: mergedFieldNames,\r\n      childrenAsData: childrenAsData\r\n    });\r\n  }, [orderedFilteredOptions, mergedFieldNames, childrenAsData]); // =========================== Change ===========================\r\n\r\n  var triggerChange = function triggerChange(values) {\r\n    var labeledValues = convert2LabelValues(values);\r\n    setInternalValue(labeledValues);\r\n\r\n    if (onChange && ( // Trigger event only when value changed\r\n    labeledValues.length !== mergedValues.length || labeledValues.some(function (newVal, index) {\r\n      var _mergedValues$index;\r\n\r\n      return ((_mergedValues$index = mergedValues[index]) === null || _mergedValues$index === void 0 ? void 0 : _mergedValues$index.value) !== (newVal === null || newVal === void 0 ? void 0 : newVal.value);\r\n    }))) {\r\n      var returnValues = labelInValue ? labeledValues : labeledValues.map(function (v) {\r\n        return v.value;\r\n      });\r\n      var returnOptions = labeledValues.map(function (v) {\r\n        return injectPropsWithOption(getMixedOption(v.value));\r\n      });\r\n      onChange( // Value\r\n      multiple ? returnValues : returnValues[0], // Option\r\n      multiple ? returnOptions : returnOptions[0]);\r\n    }\r\n  }; // ======================= Accessibility ========================\r\n\r\n\r\n  var _React$useState = React.useState(null),\r\n      _React$useState2 = _slicedToArray(_React$useState, 2),\r\n      activeValue = _React$useState2[0],\r\n      setActiveValue = _React$useState2[1];\r\n\r\n  var _React$useState3 = React.useState(0),\r\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\r\n      accessibilityIndex = _React$useState4[0],\r\n      setAccessibilityIndex = _React$useState4[1];\r\n\r\n  var mergedDefaultActiveFirstOption = defaultActiveFirstOption !== undefined ? defaultActiveFirstOption : mode !== 'combobox';\r\n  var onActiveValue = React.useCallback(function (active, index) {\r\n    var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\r\n        _ref2$source = _ref2.source,\r\n        source = _ref2$source === void 0 ? 'keyboard' : _ref2$source;\r\n\r\n    setAccessibilityIndex(index);\r\n\r\n    if (backfill && mode === 'combobox' && active !== null && source === 'keyboard') {\r\n      setActiveValue(String(active));\r\n    }\r\n  }, [backfill, mode]); // ========================= OptionList =========================\r\n\r\n  var triggerSelect = function triggerSelect(val, selected) {\r\n    var getSelectEnt = function getSelectEnt() {\r\n      var _option$key2;\r\n\r\n      var option = getMixedOption(val);\r\n      return [labelInValue ? {\r\n        label: option === null || option === void 0 ? void 0 : option[mergedFieldNames.label],\r\n        value: val,\r\n        key: (_option$key2 = option.key) !== null && _option$key2 !== void 0 ? _option$key2 : val\r\n      } : val, injectPropsWithOption(option)];\r\n    };\r\n\r\n    if (selected && onSelect) {\r\n      var _getSelectEnt = getSelectEnt(),\r\n          _getSelectEnt2 = _slicedToArray(_getSelectEnt, 2),\r\n          wrappedValue = _getSelectEnt2[0],\r\n          option = _getSelectEnt2[1];\r\n\r\n      onSelect(wrappedValue, option);\r\n    } else if (!selected && onDeselect) {\r\n      var _getSelectEnt3 = getSelectEnt(),\r\n          _getSelectEnt4 = _slicedToArray(_getSelectEnt3, 2),\r\n          _wrappedValue = _getSelectEnt4[0],\r\n          _option = _getSelectEnt4[1];\r\n\r\n      onDeselect(_wrappedValue, _option);\r\n    }\r\n  }; // Used for OptionList selection\r\n\r\n\r\n  var onInternalSelect = useRefFunc(function (val, info) {\r\n    var cloneValues; // Single mode always trigger select only with option list\r\n\r\n    var mergedSelect = multiple ? info.selected : true;\r\n\r\n    if (mergedSelect) {\r\n      cloneValues = multiple ? [].concat(_toConsumableArray(mergedValues), [val]) : [val];\r\n    } else {\r\n      cloneValues = mergedValues.filter(function (v) {\r\n        return v.value !== val;\r\n      });\r\n    }\r\n\r\n    triggerChange(cloneValues);\r\n    triggerSelect(val, mergedSelect); // Clean search value if single or configured\r\n\r\n    if (mode === 'combobox') {\r\n      // setSearchValue(String(val));\r\n      setActiveValue('');\r\n    } else if (!isMultiple || autoClearSearchValue) {\r\n      setSearchValue('');\r\n      setActiveValue('');\r\n    }\r\n  }); // ======================= Display Change =======================\r\n  // BaseSelect display values change\r\n\r\n  var onDisplayValuesChange = function onDisplayValuesChange(nextValues, info) {\r\n    triggerChange(nextValues);\r\n\r\n    if (info.type === 'remove' || info.type === 'clear') {\r\n      info.values.forEach(function (item) {\r\n        triggerSelect(item.value, false);\r\n      });\r\n    }\r\n  }; // =========================== Search ===========================\r\n\r\n\r\n  var onInternalSearch = function onInternalSearch(searchText, info) {\r\n    setSearchValue(searchText);\r\n    setActiveValue(null); // [Submit] Tag mode should flush input\r\n\r\n    if (info.source === 'submit') {\r\n      var formatted = (searchText || '').trim(); // prevent empty tags from appearing when you click the Enter button\r\n\r\n      if (formatted) {\r\n        var newRawValues = Array.from(new Set([].concat(_toConsumableArray(rawValues), [formatted])));\r\n        triggerChange(newRawValues);\r\n        triggerSelect(formatted, true);\r\n        setSearchValue('');\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    if (info.source !== 'blur') {\r\n      if (mode === 'combobox') {\r\n        triggerChange(searchText);\r\n      }\r\n\r\n      onSearch === null || onSearch === void 0 ? void 0 : onSearch(searchText);\r\n    }\r\n  };\r\n\r\n  var onInternalSearchSplit = function onInternalSearchSplit(words) {\r\n    var patchValues = words;\r\n\r\n    if (mode !== 'tags') {\r\n      patchValues = words.map(function (word) {\r\n        var opt = labelOptions.get(word);\r\n        return opt === null || opt === void 0 ? void 0 : opt.value;\r\n      }).filter(function (val) {\r\n        return val !== undefined;\r\n      });\r\n    }\r\n\r\n    var newRawValues = Array.from(new Set([].concat(_toConsumableArray(rawValues), _toConsumableArray(patchValues))));\r\n    triggerChange(newRawValues);\r\n    newRawValues.forEach(function (newRawValue) {\r\n      triggerSelect(newRawValue, true);\r\n    });\r\n  }; // ========================== Context ===========================\r\n\r\n\r\n  var selectContext = React.useMemo(function () {\r\n    var realVirtual = virtual !== false && dropdownMatchSelectWidth !== false;\r\n    return _objectSpread(_objectSpread({}, parsedOptions), {}, {\r\n      flattenOptions: displayOptions,\r\n      onActiveValue: onActiveValue,\r\n      defaultActiveFirstOption: mergedDefaultActiveFirstOption,\r\n      onSelect: onInternalSelect,\r\n      menuItemSelectedIcon: menuItemSelectedIcon,\r\n      rawValues: rawValues,\r\n      fieldNames: mergedFieldNames,\r\n      virtual: realVirtual,\r\n      listHeight: listHeight,\r\n      listItemHeight: listItemHeight,\r\n      childrenAsData: childrenAsData\r\n    });\r\n  }, [parsedOptions, displayOptions, onActiveValue, mergedDefaultActiveFirstOption, onInternalSelect, menuItemSelectedIcon, rawValues, mergedFieldNames, virtual, dropdownMatchSelectWidth, listHeight, listItemHeight, childrenAsData]); // ========================== Warning ===========================\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    warningProps(props);\r\n  } // ==============================================================\r\n  // ==                          Render                          ==\r\n  // ==============================================================\r\n\r\n\r\n  return /*#__PURE__*/React.createElement(SelectContext.Provider, {\r\n    value: selectContext\r\n  }, /*#__PURE__*/React.createElement(BaseSelect, _extends({}, restProps, {\r\n    // >>> MISC\r\n    id: mergedId,\r\n    prefixCls: prefixCls,\r\n    ref: ref,\r\n    omitDomProps: OMIT_DOM_PROPS,\r\n    mode: mode // >>> Values\r\n    ,\r\n    displayValues: displayValues,\r\n    onDisplayValuesChange: onDisplayValuesChange // >>> Search\r\n    ,\r\n    searchValue: mergedSearchValue,\r\n    onSearch: onInternalSearch,\r\n    onSearchSplit: onInternalSearchSplit,\r\n    dropdownMatchSelectWidth: dropdownMatchSelectWidth // >>> OptionList\r\n    ,\r\n    OptionList: OptionList,\r\n    emptyOptions: !displayOptions.length // >>> Accessibility\r\n    ,\r\n    activeValue: activeValue,\r\n    activeDescendantId: \"\".concat(mergedId, \"_list_\").concat(accessibilityIndex)\r\n  })));\r\n});\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  Select.displayName = 'Select';\r\n}\r\n\r\nvar TypedSelect = Select;\r\nTypedSelect.Option = Option;\r\nTypedSelect.OptGroup = OptGroup;\r\nexport default TypedSelect;"],"mappings":"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"},"metadata":{},"sourceType":"module"}