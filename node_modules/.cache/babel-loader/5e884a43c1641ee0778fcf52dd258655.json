{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.injectCSS = injectCSS;\nexports.updateCSS = updateCSS;\nvar _canUseDom = _interopRequireDefault(require(\"./canUseDom\"));\nvar MARK_KEY = \"rc-util-key\";\nfunction getContainer(option) {\n  if (option.attachTo) {\n    return option.attachTo;\n  }\n  var head = document.querySelector('head');\n  return head || document.body;\n}\nfunction injectCSS(css) {\n  var _option$csp;\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (!(0, _canUseDom.default)()) {\n    return null;\n  }\n  var styleNode = document.createElement('style');\n  if ((_option$csp = option.csp) === null || _option$csp === void 0 ? void 0 : _option$csp.nonce) {\n    var _option$csp2;\n    styleNode.nonce = (_option$csp2 = option.csp) === null || _option$csp2 === void 0 ? void 0 : _option$csp2.nonce;\n  }\n  styleNode.innerHTML = css;\n  var container = getContainer(option);\n  var firstChild = container.firstChild;\n  if (option.prepend && container.prepend) {\n    // Use `prepend` first\n    container.prepend(styleNode);\n  } else if (option.prepend && firstChild) {\n    // Fallback to `insertBefore` like IE not support `prepend`\n    container.insertBefore(styleNode, firstChild);\n  } else {\n    container.appendChild(styleNode);\n  }\n  return styleNode;\n}\nvar containerCache = new Map();\nfunction updateCSS(css, key) {\n  var option = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var container = getContainer(option); // Get real parent\n\n  if (!containerCache.has(container)) {\n    var placeholderStyle = injectCSS('', option);\n    var parentNode = placeholderStyle.parentNode;\n    containerCache.set(container, parentNode);\n    parentNode.removeChild(placeholderStyle);\n  }\n  var existNode = Array.from(containerCache.get(container).children).find(function (node) {\n    return node.tagName === 'STYLE' && node[MARK_KEY] === key;\n  });\n  if (existNode) {\n    var _option$csp3, _option$csp4;\n    if (((_option$csp3 = option.csp) === null || _option$csp3 === void 0 ? void 0 : _option$csp3.nonce) && existNode.nonce !== ((_option$csp4 = option.csp) === null || _option$csp4 === void 0 ? void 0 : _option$csp4.nonce)) {\n      var _option$csp5;\n      existNode.nonce = (_option$csp5 = option.csp) === null || _option$csp5 === void 0 ? void 0 : _option$csp5.nonce;\n    }\n    if (existNode.innerHTML !== css) {\n      existNode.innerHTML = css;\n    }\n    return existNode;\n  }\n  var newNode = injectCSS(css, option);\n  newNode[MARK_KEY] = key;\n  return newNode;\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","injectCSS","updateCSS","_canUseDom","MARK_KEY","getContainer","option","attachTo","head","document","querySelector","body","css","_option$csp","arguments","length","undefined","default","styleNode","createElement","csp","nonce","_option$csp2","innerHTML","container","firstChild","prepend","insertBefore","appendChild","containerCache","Map","key","has","placeholderStyle","parentNode","set","removeChild","existNode","Array","from","get","children","find","node","tagName","_option$csp3","_option$csp4","_option$csp5","newNode"],"sources":["F:/outletcontrol/frontend/node_modules/rc-util/lib/Dom/dynamicCSS.js"],"sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.injectCSS = injectCSS;\r\nexports.updateCSS = updateCSS;\r\n\r\nvar _canUseDom = _interopRequireDefault(require(\"./canUseDom\"));\r\n\r\nvar MARK_KEY = \"rc-util-key\";\r\n\r\nfunction getContainer(option) {\r\n  if (option.attachTo) {\r\n    return option.attachTo;\r\n  }\r\n\r\n  var head = document.querySelector('head');\r\n  return head || document.body;\r\n}\r\n\r\nfunction injectCSS(css) {\r\n  var _option$csp;\r\n\r\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\r\n  if (!(0, _canUseDom.default)()) {\r\n    return null;\r\n  }\r\n\r\n  var styleNode = document.createElement('style');\r\n\r\n  if ((_option$csp = option.csp) === null || _option$csp === void 0 ? void 0 : _option$csp.nonce) {\r\n    var _option$csp2;\r\n\r\n    styleNode.nonce = (_option$csp2 = option.csp) === null || _option$csp2 === void 0 ? void 0 : _option$csp2.nonce;\r\n  }\r\n\r\n  styleNode.innerHTML = css;\r\n  var container = getContainer(option);\r\n  var firstChild = container.firstChild;\r\n\r\n  if (option.prepend && container.prepend) {\r\n    // Use `prepend` first\r\n    container.prepend(styleNode);\r\n  } else if (option.prepend && firstChild) {\r\n    // Fallback to `insertBefore` like IE not support `prepend`\r\n    container.insertBefore(styleNode, firstChild);\r\n  } else {\r\n    container.appendChild(styleNode);\r\n  }\r\n\r\n  return styleNode;\r\n}\r\n\r\nvar containerCache = new Map();\r\n\r\nfunction updateCSS(css, key) {\r\n  var option = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\r\n  var container = getContainer(option); // Get real parent\r\n\r\n  if (!containerCache.has(container)) {\r\n    var placeholderStyle = injectCSS('', option);\r\n    var parentNode = placeholderStyle.parentNode;\r\n    containerCache.set(container, parentNode);\r\n    parentNode.removeChild(placeholderStyle);\r\n  }\r\n\r\n  var existNode = Array.from(containerCache.get(container).children).find(function (node) {\r\n    return node.tagName === 'STYLE' && node[MARK_KEY] === key;\r\n  });\r\n\r\n  if (existNode) {\r\n    var _option$csp3, _option$csp4;\r\n\r\n    if (((_option$csp3 = option.csp) === null || _option$csp3 === void 0 ? void 0 : _option$csp3.nonce) && existNode.nonce !== ((_option$csp4 = option.csp) === null || _option$csp4 === void 0 ? void 0 : _option$csp4.nonce)) {\r\n      var _option$csp5;\r\n\r\n      existNode.nonce = (_option$csp5 = option.csp) === null || _option$csp5 === void 0 ? void 0 : _option$csp5.nonce;\r\n    }\r\n\r\n    if (existNode.innerHTML !== css) {\r\n      existNode.innerHTML = css;\r\n    }\r\n\r\n    return existNode;\r\n  }\r\n\r\n  var newNode = injectCSS(css, option);\r\n  newNode[MARK_KEY] = key;\r\n  return newNode;\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}