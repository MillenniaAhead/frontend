{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useControlledState;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nfunction useControlledState(defaultStateValue, option) {\n  var _ref = option || {},\n    defaultValue = _ref.defaultValue,\n    value = _ref.value,\n    onChange = _ref.onChange,\n    postState = _ref.postState;\n  var _React$useState = React.useState(function () {\n      if (value !== undefined) {\n        return value;\n      }\n      if (defaultValue !== undefined) {\n        return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n      }\n      return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n    }),\n    _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n    innerValue = _React$useState2[0],\n    setInnerValue = _React$useState2[1];\n  var mergedValue = value !== undefined ? value : innerValue;\n  if (postState) {\n    mergedValue = postState(mergedValue);\n  } // setState\n\n  var onChangeRef = React.useRef(onChange);\n  onChangeRef.current = onChange;\n  var triggerChange = React.useCallback(function (newValue) {\n    setInnerValue(newValue);\n    if (mergedValue !== newValue && onChangeRef.current) {\n      onChangeRef.current(newValue, mergedValue);\n    }\n  }, [mergedValue, onChangeRef]); // Effect of reset value to `undefined`\n\n  var firstRenderRef = React.useRef(true);\n  React.useEffect(function () {\n    if (firstRenderRef.current) {\n      firstRenderRef.current = false;\n      return;\n    }\n    if (value === undefined) {\n      setInnerValue(value);\n    }\n  }, [value]);\n  return [mergedValue, triggerChange];\n}","map":{"version":3,"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","useControlledState","_slicedToArray2","React","defaultStateValue","option","_ref","defaultValue","onChange","postState","_React$useState","useState","undefined","_React$useState2","innerValue","setInnerValue","mergedValue","onChangeRef","useRef","current","triggerChange","useCallback","newValue","firstRenderRef","useEffect"],"sources":["F:/outletcontrol/frontend/node_modules/rc-util/lib/hooks/useMergedState.js"],"sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = useControlledState;\r\n\r\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\r\n\r\nvar React = _interopRequireWildcard(require(\"react\"));\r\n\r\nfunction useControlledState(defaultStateValue, option) {\r\n  var _ref = option || {},\r\n      defaultValue = _ref.defaultValue,\r\n      value = _ref.value,\r\n      onChange = _ref.onChange,\r\n      postState = _ref.postState;\r\n\r\n  var _React$useState = React.useState(function () {\r\n    if (value !== undefined) {\r\n      return value;\r\n    }\r\n\r\n    if (defaultValue !== undefined) {\r\n      return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\r\n    }\r\n\r\n    return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\r\n  }),\r\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\r\n      innerValue = _React$useState2[0],\r\n      setInnerValue = _React$useState2[1];\r\n\r\n  var mergedValue = value !== undefined ? value : innerValue;\r\n\r\n  if (postState) {\r\n    mergedValue = postState(mergedValue);\r\n  } // setState\r\n\r\n\r\n  var onChangeRef = React.useRef(onChange);\r\n  onChangeRef.current = onChange;\r\n  var triggerChange = React.useCallback(function (newValue) {\r\n    setInnerValue(newValue);\r\n\r\n    if (mergedValue !== newValue && onChangeRef.current) {\r\n      onChangeRef.current(newValue, mergedValue);\r\n    }\r\n  }, [mergedValue, onChangeRef]); // Effect of reset value to `undefined`\r\n\r\n  var firstRenderRef = React.useRef(true);\r\n  React.useEffect(function () {\r\n    if (firstRenderRef.current) {\r\n      firstRenderRef.current = false;\r\n      return;\r\n    }\r\n\r\n    if (value === undefined) {\r\n      setInnerValue(value);\r\n    }\r\n  }, [value]);\r\n  return [mergedValue, triggerChange];\r\n}"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,uBAAuB,GAAGC,OAAO,CAAC,+CAA+C,CAAC;AAEtF,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8CAA8C,CAAC;AAEpFE,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,OAAO,GAAGC,kBAAkB;AAEpC,IAAIC,eAAe,GAAGP,sBAAsB,CAACD,OAAO,CAAC,sCAAsC,CAAC,CAAC;AAE7F,IAAIS,KAAK,GAAGV,uBAAuB,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;AAErD,SAASO,kBAAkB,CAACG,iBAAiB,EAAEC,MAAM,EAAE;EACrD,IAAIC,IAAI,GAAGD,MAAM,IAAI,CAAC,CAAC;IACnBE,YAAY,GAAGD,IAAI,CAACC,YAAY;IAChCR,KAAK,GAAGO,IAAI,CAACP,KAAK;IAClBS,QAAQ,GAAGF,IAAI,CAACE,QAAQ;IACxBC,SAAS,GAAGH,IAAI,CAACG,SAAS;EAE9B,IAAIC,eAAe,GAAGP,KAAK,CAACQ,QAAQ,CAAC,YAAY;MAC/C,IAAIZ,KAAK,KAAKa,SAAS,EAAE;QACvB,OAAOb,KAAK;MACd;MAEA,IAAIQ,YAAY,KAAKK,SAAS,EAAE;QAC9B,OAAO,OAAOL,YAAY,KAAK,UAAU,GAAGA,YAAY,EAAE,GAAGA,YAAY;MAC3E;MAEA,OAAO,OAAOH,iBAAiB,KAAK,UAAU,GAAGA,iBAAiB,EAAE,GAAGA,iBAAiB;IAC1F,CAAC,CAAC;IACES,gBAAgB,GAAG,CAAC,CAAC,EAAEX,eAAe,CAACF,OAAO,EAAEU,eAAe,EAAE,CAAC,CAAC;IACnEI,UAAU,GAAGD,gBAAgB,CAAC,CAAC,CAAC;IAChCE,aAAa,GAAGF,gBAAgB,CAAC,CAAC,CAAC;EAEvC,IAAIG,WAAW,GAAGjB,KAAK,KAAKa,SAAS,GAAGb,KAAK,GAAGe,UAAU;EAE1D,IAAIL,SAAS,EAAE;IACbO,WAAW,GAAGP,SAAS,CAACO,WAAW,CAAC;EACtC,CAAC,CAAC;;EAGF,IAAIC,WAAW,GAAGd,KAAK,CAACe,MAAM,CAACV,QAAQ,CAAC;EACxCS,WAAW,CAACE,OAAO,GAAGX,QAAQ;EAC9B,IAAIY,aAAa,GAAGjB,KAAK,CAACkB,WAAW,CAAC,UAAUC,QAAQ,EAAE;IACxDP,aAAa,CAACO,QAAQ,CAAC;IAEvB,IAAIN,WAAW,KAAKM,QAAQ,IAAIL,WAAW,CAACE,OAAO,EAAE;MACnDF,WAAW,CAACE,OAAO,CAACG,QAAQ,EAAEN,WAAW,CAAC;IAC5C;EACF,CAAC,EAAE,CAACA,WAAW,EAAEC,WAAW,CAAC,CAAC,CAAC,CAAC;;EAEhC,IAAIM,cAAc,GAAGpB,KAAK,CAACe,MAAM,CAAC,IAAI,CAAC;EACvCf,KAAK,CAACqB,SAAS,CAAC,YAAY;IAC1B,IAAID,cAAc,CAACJ,OAAO,EAAE;MAC1BI,cAAc,CAACJ,OAAO,GAAG,KAAK;MAC9B;IACF;IAEA,IAAIpB,KAAK,KAAKa,SAAS,EAAE;MACvBG,aAAa,CAAChB,KAAK,CAAC;IACtB;EACF,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EACX,OAAO,CAACiB,WAAW,EAAEI,aAAa,CAAC;AACrC"},"metadata":{},"sourceType":"script"}