{"ast":null,"code":"import { parse } from \"querystring\";\nfunction getPageQuery() {\n  parse(window.location.href.split(\"?\")[1]);\n}\n\n/* \r\n To get nested object properties.\r\n admin = {\r\n    location: {\r\n        lat: 50,\r\n        long: 9\r\n    }\r\n }\r\n\r\n get(admin, 'location.lat')     // 50\r\n get(admin, 'location.foo.bar') // undefined\r\n*/\n\nexport function get(obj, key) {\n  return key.split(\".\").reduce(function (o, x) {\n    return o === undefined || o === null ? o : o[x];\n  }, obj);\n\n  // key.split('.').reduce(function(o, x) {\n  //     return (o === undefined || o === null) ? o : o[x];\n  //   }, obj);\n}\n\nObject.byString = function (o, s) {\n  s = s.replace(/\\[(\\w+)\\]/g, \".$1\"); // convert indexes to properties\n  s = s.replace(/^\\./, \"\"); // strip a leading dot\n  let a = s.split(\".\");\n  for (let i = 0, n = a.length; i < n; ++i) {\n    let k = a[i];\n    if (o !== null) {\n      if (k in o) {\n        o = o[k];\n      } else {\n        return;\n      }\n    } else {\n      return;\n    }\n  }\n  return o;\n};\n\n/* \r\n To check only if a property exists, without getting its value. It similer get function.\r\n*/\nexport function has(obj, key) {\n  return key.split(\".\").every(function (x) {\n    if (typeof obj !== \"object\" || obj === null || x in obj === false)\n      /// !x in obj or  x in obj === true *** if you find any bug\n      return false;\n    obj = obj[x];\n    return true;\n  });\n}\n\n/* \r\n convert indexes to properties\r\n*/\nexport function valueByString(obj, string, devider) {\n  if (devider === undefined) {\n    devider = \"|\";\n  }\n  return string.split(devider).map(function (key) {\n    return get(obj, key);\n  }).join(\" \");\n}\n\n/*\r\n Submit multi-part form using ajax.\r\n*/\nexport function toFormData(form) {\n  let formData = new FormData();\n  const elements = form.querySelectorAll(\"input, select, textarea\");\n  for (let i = 0; i < elements.length; ++i) {\n    const element = elements[i];\n    const name = element.name;\n    if (name && element.dataset.disabled !== \"true\") {\n      if (element.type === \"file\") {\n        const file = element.files[0];\n        formData.append(name, file);\n      } else {\n        const value = element.value;\n        if (value && value.trim()) {\n          formData.append(name, value);\n        }\n      }\n    }\n  }\n  return formData;\n}\n\n/*\r\n Format Date to display admin\r\n*/\nexport function formatDate(param) {\n  const date = new Date(param);\n  let day = date.getDate().toString();\n  let month = (date.getMonth() + 1).toString();\n  const year = date.getFullYear();\n  if (month.length < 2) month = `0${month}`;\n  if (day.length < 2) day = `0${day}`;\n  const fullDate = `${day}/${month}/${year}`;\n  return fullDate;\n}\n\n/*\r\n Format Datetime to display admin\r\n*/\nexport function formatDatetime(param) {\n  let time = new Date(param).toLocaleTimeString();\n  return formatDate(param) + \" \" + time;\n}\n\n/*\r\n Set object value in html\r\n*/\nexport function bindValue(obj, parentElement) {\n  parentElement.querySelectorAll(\"[data-property]\").forEach(element => {\n    const type = element.dataset.type;\n    let value = valueByString(obj, element.dataset.property);\n    console.log({\n      type\n    });\n    switch (type) {\n      case \"date\":\n        value = formatDate(value);\n        break;\n      case \"datetime\":\n        value = formatDatetime(value);\n        break;\n      case \"currency\":\n        value = value.toFixed(2).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\n        break;\n      default:\n        break;\n    }\n    element.innerHTML = value;\n  });\n}\nexport default getPageQuery;","map":{"version":3,"names":["parse","getPageQuery","window","location","href","split","get","obj","key","reduce","o","x","undefined","Object","byString","s","replace","a","i","n","length","k","has","every","valueByString","string","devider","map","join","toFormData","form","formData","FormData","elements","querySelectorAll","element","name","dataset","disabled","type","file","files","append","value","trim","formatDate","param","date","Date","day","getDate","toString","month","getMonth","year","getFullYear","fullDate","formatDatetime","time","toLocaleTimeString","bindValue","parentElement","forEach","property","console","log","toFixed","innerHTML"],"sources":["F:/outletcontrol/frontend/src/utils/helpers.js"],"sourcesContent":["import { parse } from \"querystring\";\r\nfunction getPageQuery() {\r\n  parse(window.location.href.split(\"?\")[1]);\r\n}\r\n\r\n/* \r\n To get nested object properties.\r\n admin = {\r\n    location: {\r\n        lat: 50,\r\n        long: 9\r\n    }\r\n }\r\n\r\n get(admin, 'location.lat')     // 50\r\n get(admin, 'location.foo.bar') // undefined\r\n*/\r\n\r\nexport function get(obj, key) {\r\n  return key.split(\".\").reduce(function (o, x) {\r\n    return o === undefined || o === null ? o : o[x];\r\n  }, obj);\r\n\r\n  // key.split('.').reduce(function(o, x) {\r\n  //     return (o === undefined || o === null) ? o : o[x];\r\n  //   }, obj);\r\n}\r\n\r\nObject.byString = function (o, s) {\r\n  s = s.replace(/\\[(\\w+)\\]/g, \".$1\"); // convert indexes to properties\r\n  s = s.replace(/^\\./, \"\"); // strip a leading dot\r\n  let a = s.split(\".\");\r\n  for (let i = 0, n = a.length; i < n; ++i) {\r\n    let k = a[i];\r\n    if (o !== null) {\r\n      if (k in o) {\r\n        o = o[k];\r\n      } else {\r\n        return;\r\n      }\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n  return o;\r\n};\r\n\r\n/* \r\n To check only if a property exists, without getting its value. It similer get function.\r\n*/\r\nexport function has(obj, key) {\r\n  return key.split(\".\").every(function (x) {\r\n    if (typeof obj !== \"object\" || obj === null || x in obj === false)\r\n      /// !x in obj or  x in obj === true *** if you find any bug\r\n      return false;\r\n    obj = obj[x];\r\n    return true;\r\n  });\r\n}\r\n\r\n/* \r\n convert indexes to properties\r\n*/\r\nexport function valueByString(obj, string, devider) {\r\n  if (devider === undefined) {\r\n    devider = \"|\";\r\n  }\r\n  return string\r\n    .split(devider)\r\n    .map(function (key) {\r\n      return get(obj, key);\r\n    })\r\n    .join(\" \");\r\n}\r\n\r\n/*\r\n Submit multi-part form using ajax.\r\n*/\r\nexport function toFormData(form) {\r\n  let formData = new FormData();\r\n  const elements = form.querySelectorAll(\"input, select, textarea\");\r\n  for (let i = 0; i < elements.length; ++i) {\r\n    const element = elements[i];\r\n    const name = element.name;\r\n\r\n    if (name && element.dataset.disabled !== \"true\") {\r\n      if (element.type === \"file\") {\r\n        const file = element.files[0];\r\n        formData.append(name, file);\r\n      } else {\r\n        const value = element.value;\r\n        if (value && value.trim()) {\r\n          formData.append(name, value);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return formData;\r\n}\r\n\r\n/*\r\n Format Date to display admin\r\n*/\r\nexport function formatDate(param) {\r\n  const date = new Date(param);\r\n  let day = date.getDate().toString();\r\n  let month = (date.getMonth() + 1).toString();\r\n  const year = date.getFullYear();\r\n  if (month.length < 2) month = `0${month}`;\r\n  if (day.length < 2) day = `0${day}`;\r\n  const fullDate = `${day}/${month}/${year}`;\r\n  return fullDate;\r\n}\r\n\r\n/*\r\n Format Datetime to display admin\r\n*/\r\nexport function formatDatetime(param) {\r\n  let time = new Date(param).toLocaleTimeString();\r\n  return formatDate(param) + \" \" + time;\r\n}\r\n\r\n/*\r\n Set object value in html\r\n*/\r\nexport function bindValue(obj, parentElement) {\r\n  parentElement.querySelectorAll(\"[data-property]\").forEach((element) => {\r\n    const type = element.dataset.type;\r\n    let value = valueByString(obj, element.dataset.property);\r\n    console.log({ type });\r\n    switch (type) {\r\n      case \"date\":\r\n        value = formatDate(value);\r\n        break;\r\n\r\n      case \"datetime\":\r\n        value = formatDatetime(value);\r\n        break;\r\n\r\n      case \"currency\":\r\n        value = value.toFixed(2).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    element.innerHTML = value;\r\n  });\r\n}\r\n\r\nexport default getPageQuery;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}