{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { isLeaf, toPathKey } from '../utils/commonUtil';\nimport CascaderContext from '../context';\nimport Checkbox from './Checkbox';\nimport { SEARCH_MARK } from '../hooks/useSearchOptions';\nexport default function Column(_ref) {\n  var prefixCls = _ref.prefixCls,\n    multiple = _ref.multiple,\n    options = _ref.options,\n    activeValue = _ref.activeValue,\n    prevValuePath = _ref.prevValuePath,\n    onToggleOpen = _ref.onToggleOpen,\n    onSelect = _ref.onSelect,\n    onActive = _ref.onActive,\n    checkedSet = _ref.checkedSet,\n    halfCheckedSet = _ref.halfCheckedSet,\n    loadingKeys = _ref.loadingKeys,\n    isSelectable = _ref.isSelectable;\n  var menuPrefixCls = \"\".concat(prefixCls, \"-menu\");\n  var menuItemPrefixCls = \"\".concat(prefixCls, \"-menu-item\");\n  var _React$useContext = React.useContext(CascaderContext),\n    fieldNames = _React$useContext.fieldNames,\n    changeOnSelect = _React$useContext.changeOnSelect,\n    expandTrigger = _React$useContext.expandTrigger,\n    expandIcon = _React$useContext.expandIcon,\n    loadingIcon = _React$useContext.loadingIcon,\n    dropdownMenuColumnStyle = _React$useContext.dropdownMenuColumnStyle;\n  var hoverOpen = expandTrigger === 'hover'; // ============================ Render ============================\n\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: menuPrefixCls,\n    role: \"menu\"\n  }, options.map(function (option) {\n    var _classNames;\n    var disabled = option.disabled;\n    var searchOptions = option[SEARCH_MARK];\n    var label = option[fieldNames.label];\n    var value = option[fieldNames.value];\n    var isMergedLeaf = isLeaf(option, fieldNames); // Get real value of option. Search option is different way.\n\n    var fullPath = searchOptions ? searchOptions.map(function (opt) {\n      return opt[fieldNames.value];\n    }) : [].concat(_toConsumableArray(prevValuePath), [value]);\n    var fullPathKey = toPathKey(fullPath);\n    var isLoading = loadingKeys.includes(fullPathKey); // >>>>> checked\n\n    var checked = checkedSet.has(fullPathKey); // >>>>> halfChecked\n\n    var halfChecked = halfCheckedSet.has(fullPathKey); // >>>>> Open\n\n    var triggerOpenPath = function triggerOpenPath() {\n      if (!disabled && (!hoverOpen || !isMergedLeaf)) {\n        onActive(fullPath);\n      }\n    }; // >>>>> Selection\n\n    var triggerSelect = function triggerSelect() {\n      if (isSelectable(option)) {\n        onSelect(fullPath, isMergedLeaf);\n      }\n    }; // >>>>> Title\n\n    var title;\n    if (typeof option.title === 'string') {\n      title = option.title;\n    } else if (typeof label === 'string') {\n      title = label;\n    } // >>>>> Render\n\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: fullPathKey,\n      className: classNames(menuItemPrefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-expand\"), !isMergedLeaf), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-active\"), activeValue === value), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-loading\"), isLoading), _classNames)),\n      style: dropdownMenuColumnStyle,\n      role: \"menuitemcheckbox\",\n      title: title,\n      \"aria-checked\": checked,\n      \"data-path-key\": fullPathKey,\n      onClick: function onClick() {\n        triggerOpenPath();\n        if (!multiple || isMergedLeaf) {\n          triggerSelect();\n        }\n      },\n      onDoubleClick: function onDoubleClick() {\n        if (changeOnSelect) {\n          onToggleOpen(false);\n        }\n      },\n      onMouseEnter: function onMouseEnter() {\n        if (hoverOpen) {\n          triggerOpenPath();\n        }\n      },\n      onMouseDown: function onMouseDown(e) {\n        // Prevent selector from blurring\n        e.preventDefault();\n      }\n    }, multiple && /*#__PURE__*/React.createElement(Checkbox, {\n      prefixCls: \"\".concat(prefixCls, \"-checkbox\"),\n      checked: checked,\n      halfChecked: halfChecked,\n      disabled: disabled,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        triggerSelect();\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(menuItemPrefixCls, \"-content\")\n    }, option[fieldNames.label]), !isLoading && expandIcon && !isMergedLeaf && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(menuItemPrefixCls, \"-expand-icon\")\n    }, expandIcon), isLoading && loadingIcon && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(menuItemPrefixCls, \"-loading-icon\")\n    }, loadingIcon));\n  }));\n}","map":{"version":3,"names":["_defineProperty","_toConsumableArray","React","classNames","isLeaf","toPathKey","CascaderContext","Checkbox","SEARCH_MARK","Column","_ref","prefixCls","multiple","options","activeValue","prevValuePath","onToggleOpen","onSelect","onActive","checkedSet","halfCheckedSet","loadingKeys","isSelectable","menuPrefixCls","concat","menuItemPrefixCls","_React$useContext","useContext","fieldNames","changeOnSelect","expandTrigger","expandIcon","loadingIcon","dropdownMenuColumnStyle","hoverOpen","createElement","className","role","map","option","_classNames","disabled","searchOptions","label","value","isMergedLeaf","fullPath","opt","fullPathKey","isLoading","includes","checked","has","halfChecked","triggerOpenPath","triggerSelect","title","key","style","onClick","onDoubleClick","onMouseEnter","onMouseDown","e","preventDefault","stopPropagation"],"sources":["F:/outletcontrol/frontend/node_modules/rc-cascader/es/OptionList/Column.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\r\nimport * as React from 'react';\r\nimport classNames from 'classnames';\r\nimport { isLeaf, toPathKey } from '../utils/commonUtil';\r\nimport CascaderContext from '../context';\r\nimport Checkbox from './Checkbox';\r\nimport { SEARCH_MARK } from '../hooks/useSearchOptions';\r\nexport default function Column(_ref) {\r\n  var prefixCls = _ref.prefixCls,\r\n      multiple = _ref.multiple,\r\n      options = _ref.options,\r\n      activeValue = _ref.activeValue,\r\n      prevValuePath = _ref.prevValuePath,\r\n      onToggleOpen = _ref.onToggleOpen,\r\n      onSelect = _ref.onSelect,\r\n      onActive = _ref.onActive,\r\n      checkedSet = _ref.checkedSet,\r\n      halfCheckedSet = _ref.halfCheckedSet,\r\n      loadingKeys = _ref.loadingKeys,\r\n      isSelectable = _ref.isSelectable;\r\n  var menuPrefixCls = \"\".concat(prefixCls, \"-menu\");\r\n  var menuItemPrefixCls = \"\".concat(prefixCls, \"-menu-item\");\r\n\r\n  var _React$useContext = React.useContext(CascaderContext),\r\n      fieldNames = _React$useContext.fieldNames,\r\n      changeOnSelect = _React$useContext.changeOnSelect,\r\n      expandTrigger = _React$useContext.expandTrigger,\r\n      expandIcon = _React$useContext.expandIcon,\r\n      loadingIcon = _React$useContext.loadingIcon,\r\n      dropdownMenuColumnStyle = _React$useContext.dropdownMenuColumnStyle;\r\n\r\n  var hoverOpen = expandTrigger === 'hover'; // ============================ Render ============================\r\n\r\n  return /*#__PURE__*/React.createElement(\"ul\", {\r\n    className: menuPrefixCls,\r\n    role: \"menu\"\r\n  }, options.map(function (option) {\r\n    var _classNames;\r\n\r\n    var disabled = option.disabled;\r\n    var searchOptions = option[SEARCH_MARK];\r\n    var label = option[fieldNames.label];\r\n    var value = option[fieldNames.value];\r\n    var isMergedLeaf = isLeaf(option, fieldNames); // Get real value of option. Search option is different way.\r\n\r\n    var fullPath = searchOptions ? searchOptions.map(function (opt) {\r\n      return opt[fieldNames.value];\r\n    }) : [].concat(_toConsumableArray(prevValuePath), [value]);\r\n    var fullPathKey = toPathKey(fullPath);\r\n    var isLoading = loadingKeys.includes(fullPathKey); // >>>>> checked\r\n\r\n    var checked = checkedSet.has(fullPathKey); // >>>>> halfChecked\r\n\r\n    var halfChecked = halfCheckedSet.has(fullPathKey); // >>>>> Open\r\n\r\n    var triggerOpenPath = function triggerOpenPath() {\r\n      if (!disabled && (!hoverOpen || !isMergedLeaf)) {\r\n        onActive(fullPath);\r\n      }\r\n    }; // >>>>> Selection\r\n\r\n\r\n    var triggerSelect = function triggerSelect() {\r\n      if (isSelectable(option)) {\r\n        onSelect(fullPath, isMergedLeaf);\r\n      }\r\n    }; // >>>>> Title\r\n\r\n\r\n    var title;\r\n\r\n    if (typeof option.title === 'string') {\r\n      title = option.title;\r\n    } else if (typeof label === 'string') {\r\n      title = label;\r\n    } // >>>>> Render\r\n\r\n\r\n    return /*#__PURE__*/React.createElement(\"li\", {\r\n      key: fullPathKey,\r\n      className: classNames(menuItemPrefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-expand\"), !isMergedLeaf), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-active\"), activeValue === value), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-loading\"), isLoading), _classNames)),\r\n      style: dropdownMenuColumnStyle,\r\n      role: \"menuitemcheckbox\",\r\n      title: title,\r\n      \"aria-checked\": checked,\r\n      \"data-path-key\": fullPathKey,\r\n      onClick: function onClick() {\r\n        triggerOpenPath();\r\n\r\n        if (!multiple || isMergedLeaf) {\r\n          triggerSelect();\r\n        }\r\n      },\r\n      onDoubleClick: function onDoubleClick() {\r\n        if (changeOnSelect) {\r\n          onToggleOpen(false);\r\n        }\r\n      },\r\n      onMouseEnter: function onMouseEnter() {\r\n        if (hoverOpen) {\r\n          triggerOpenPath();\r\n        }\r\n      },\r\n      onMouseDown: function onMouseDown(e) {\r\n        // Prevent selector from blurring\r\n        e.preventDefault();\r\n      }\r\n    }, multiple && /*#__PURE__*/React.createElement(Checkbox, {\r\n      prefixCls: \"\".concat(prefixCls, \"-checkbox\"),\r\n      checked: checked,\r\n      halfChecked: halfChecked,\r\n      disabled: disabled,\r\n      onClick: function onClick(e) {\r\n        e.stopPropagation();\r\n        triggerSelect();\r\n      }\r\n    }), /*#__PURE__*/React.createElement(\"div\", {\r\n      className: \"\".concat(menuItemPrefixCls, \"-content\")\r\n    }, option[fieldNames.label]), !isLoading && expandIcon && !isMergedLeaf && /*#__PURE__*/React.createElement(\"div\", {\r\n      className: \"\".concat(menuItemPrefixCls, \"-expand-icon\")\r\n    }, expandIcon), isLoading && loadingIcon && /*#__PURE__*/React.createElement(\"div\", {\r\n      className: \"\".concat(menuItemPrefixCls, \"-loading-icon\")\r\n    }, loadingIcon));\r\n  }));\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}