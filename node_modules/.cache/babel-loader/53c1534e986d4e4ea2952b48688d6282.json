{"ast":null,"code":"import { notification } from \"antd\";\nimport history from \"@/utils/history\";\nimport codeMessage from \"./codeMessage\";\nconst errorHandler = function (error) {\n  let emptyResult = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  const {\n    response\n  } = error;\n  if (!response) {\n    // notification.config({\n    //   duration: 20,\n    // });\n    // notification.error({\n    //   message: \"No internet connection\",\n    //   description: \"Cannot connect to the server, Check your internet network\",\n    // });\n    return {\n      success: false,\n      result: emptyResult,\n      message: \"Cannot connect to the server, Check your internet network\"\n    };\n  } else if (response && response.status) {\n    const message = response.data && response.data.message;\n    const errorText = message || codeMessage[response.status];\n    const {\n      status\n    } = response;\n    notification.config({\n      duration: 20\n    });\n    notification.error({\n      message: `Request error ${status}`,\n      description: errorText\n    });\n    if (error.response.data.jwtExpired) {\n      history.push(\"/logout\");\n    }\n    return response.data;\n  } else {\n    notification.config({\n      duration: 20\n    });\n    notification.error({\n      message: \"Unknown Error\",\n      description: \"An unknown error occurred in the app, please try again. \"\n    });\n    return {\n      success: false,\n      result: emptyResult,\n      message: \"An unknown error occurred in the app, please try again. \"\n    };\n  }\n};\nexport default errorHandler;","map":{"version":3,"names":["notification","history","codeMessage","errorHandler","error","emptyResult","response","success","result","message","status","data","errorText","config","duration","description","jwtExpired","push"],"sources":["F:/outletcontrol/frontend/src/request/errorHandler.js"],"sourcesContent":["import { notification } from \"antd\";\r\nimport history from \"@/utils/history\";\r\nimport codeMessage from \"./codeMessage\";\r\n\r\nconst errorHandler = (error, emptyResult = null) => {\r\n  const { response } = error;\r\n\r\n  if (!response) {\r\n    // notification.config({\r\n    //   duration: 20,\r\n    // });\r\n    // notification.error({\r\n    //   message: \"No internet connection\",\r\n    //   description: \"Cannot connect to the server, Check your internet network\",\r\n    // });\r\n    return {\r\n      success: false,\r\n      result: emptyResult,\r\n      message: \"Cannot connect to the server, Check your internet network\",\r\n    };\r\n  } else if (response && response.status) {\r\n    const message = response.data && response.data.message;\r\n    const errorText = message || codeMessage[response.status];\r\n    const { status } = response;\r\n    notification.config({\r\n      duration: 20,\r\n    });\r\n    notification.error({\r\n      message: `Request error ${status}`,\r\n      description: errorText,\r\n    });\r\n    if (error.response.data.jwtExpired) {\r\n      history.push(\"/logout\");\r\n    }\r\n    return response.data;\r\n  } else {\r\n    notification.config({\r\n      duration: 20,\r\n    });\r\n    notification.error({\r\n      message: \"Unknown Error\",\r\n      description: \"An unknown error occurred in the app, please try again. \",\r\n    });\r\n    return {\r\n      success: false,\r\n      result: emptyResult,\r\n      message: \"An unknown error occurred in the app, please try again. \",\r\n    };\r\n  }\r\n};\r\n\r\nexport default errorHandler;\r\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,MAAM;AACnC,OAAOC,OAAO,MAAM,iBAAiB;AACrC,OAAOC,WAAW,MAAM,eAAe;AAEvC,MAAMC,YAAY,GAAG,UAACC,KAAK,EAAyB;EAAA,IAAvBC,WAAW,uEAAG,IAAI;EAC7C,MAAM;IAAEC;EAAS,CAAC,GAAGF,KAAK;EAE1B,IAAI,CAACE,QAAQ,EAAE;IACb;IACA;IACA;IACA;IACA;IACA;IACA;IACA,OAAO;MACLC,OAAO,EAAE,KAAK;MACdC,MAAM,EAAEH,WAAW;MACnBI,OAAO,EAAE;IACX,CAAC;EACH,CAAC,MAAM,IAAIH,QAAQ,IAAIA,QAAQ,CAACI,MAAM,EAAE;IACtC,MAAMD,OAAO,GAAGH,QAAQ,CAACK,IAAI,IAAIL,QAAQ,CAACK,IAAI,CAACF,OAAO;IACtD,MAAMG,SAAS,GAAGH,OAAO,IAAIP,WAAW,CAACI,QAAQ,CAACI,MAAM,CAAC;IACzD,MAAM;MAAEA;IAAO,CAAC,GAAGJ,QAAQ;IAC3BN,YAAY,CAACa,MAAM,CAAC;MAClBC,QAAQ,EAAE;IACZ,CAAC,CAAC;IACFd,YAAY,CAACI,KAAK,CAAC;MACjBK,OAAO,EAAG,iBAAgBC,MAAO,EAAC;MAClCK,WAAW,EAAEH;IACf,CAAC,CAAC;IACF,IAAIR,KAAK,CAACE,QAAQ,CAACK,IAAI,CAACK,UAAU,EAAE;MAClCf,OAAO,CAACgB,IAAI,CAAC,SAAS,CAAC;IACzB;IACA,OAAOX,QAAQ,CAACK,IAAI;EACtB,CAAC,MAAM;IACLX,YAAY,CAACa,MAAM,CAAC;MAClBC,QAAQ,EAAE;IACZ,CAAC,CAAC;IACFd,YAAY,CAACI,KAAK,CAAC;MACjBK,OAAO,EAAE,eAAe;MACxBM,WAAW,EAAE;IACf,CAAC,CAAC;IACF,OAAO;MACLR,OAAO,EAAE,KAAK;MACdC,MAAM,EAAEH,WAAW;MACnBI,OAAO,EAAE;IACX,CAAC;EACH;AACF,CAAC;AAED,eAAeN,YAAY"},"metadata":{},"sourceType":"module"}